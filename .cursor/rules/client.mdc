---
description: "הנחיות מותאמות לפרונט React במונורפו EveryTriv"
globs:
  - client/**\/*.{ts,tsx}
alwaysApply: false
---

# הוראות React מותאמות לפרויקט

## מבנה ותיקיות
- כל קוד המקור ממוקם ב-`client/src`.
- ארגון לפי מאפיינים: `views/`, `shared/`, `redux/`, `assets/`, `styles/`.
- רכיבים יש לשכן קרוב לצרכנים שלהם; רכיבים משותפים עוברים ל-`shared/components`.
- קוד משותף מגיע מתיקיית המונורפו `shared/` דרך Barrel exports.
- שמות קבצים camelCase בלבד.

## TypeScript
- הפרויקט פועל עם `"strict": true`; אין לשנות.
- אין שימוש ב-`any`, `unknown`, או `as`; יש להגדיר טיפוסים מלאים.
- כל props והחזרות פונקציות מטופסים במפורש.
- טיפוסים משותפים נמצאים ב-`shared/types/<topic>` ומיובאים משם בלבד.

## רכיבים והוקים
- רכיבים פונקציונליים בלבד עם Hooks; אין מחלקות.
- לרכז לוגיקה עסקית ב-Hooks מותאמים; כל הוק חדש חייב שימוש מיידי.
- להוסיף Error Boundaries ייעודיים היכן שנדרש.
- לא לשכפל לוגיקה בין רכיבים; להעביר ל-`shared` בעת הצורך.
- אין קוד דוגמה או Placeholder.

## סטייט וניהול נתונים
- Redux Toolkit משמש לניהול גלובלי; ערכים מקומיים נשמרים ב-`useState`.
- חיבור לשרת דרך שירותי API מתחת ל-`shared/services`.
- טעינות, שגיאות והודעות מערכת מנוהלות במפורש.
- שימוש ב-React Query מותר רק כאשר יש ניהול מצב שרת.

## כלים ותזרים עבודה
- להשתמש ב-`pnpm` בלבד; אין chained commands ב-PowerShell.
- לעדכן barrel exports בכל הוספת רכיב או טיפוס משותף.
- שילוב אנימציות ורכיבי UI מתבצע באמצעות הקבצים הקיימים (אין הוספת ספריות לא מאושרות).

## בדיקות ואבטחה
- בדיקות יחידה עם Vitest ו-React Testing Library.
- Mock של קריאות API ושל Redux Store במידת הצורך.
- קלטי משתמש עוברים ניקוי; אין הזרקת HTML.
- לקרוא סיסמאות וערכים רגישים רק מקונפיג של סביבה.

## סגנון וקונבנציות
- CamelCase לשמות משתנים ופונקציות; PascalCase לרכיבים.
- קבועים ב-UpperCase ומנוהלים ב-`shared/constants`.
- JSDoc עבור לוגיקה מורכבת, במיוחד ב-hooks.
- ייבוא דרך barrels (`index.ts`) במקום מסלולי קבצים עמוקים.
